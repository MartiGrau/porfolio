---
import Python from "./icons/Python.astro"
import React from "./icons/React.astro"
import AWS from "./icons/AWS.astro"
import Docker from "./icons/Docker.astro"
import GCloud from "./icons/Gcloud.astro"
import Code from "./icons/Code.astro"

interface Props {
  text: string
  iconName?: string
  color?: string
}

const { text, iconName, color = "default" } = Astro.props

const getIcon = (name: string) => {
  switch (name) {
    case 'Python': return Python
    case 'React': return React
    case 'AWS': return AWS
    case 'Docker': return Docker
    case 'GCloud': return GCloud
    default: return Code
  }
}

const getColorClasses = (color: string) => {
  switch (color) {
    case 'blue':
      return 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200'
    case 'green':
      return 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200'
    case 'purple':
      return 'bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200'
    case 'orange':
      return 'bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200'
    case 'red':
      return 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200'
    case 'yellow':
      return 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200'
    case 'pink':
      return 'bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200'
    case 'indigo':
      return 'bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200'
    default:
      return 'bg-green-100 text-green-800 dark:bg-gray-800 dark:text-white/80'
  }
}

const IconComponent = iconName ? getIcon(iconName) : null
const colorClasses = getColorClasses(color)
---

<div class="flex items-center">
  <span class="relative inline-flex overflow-hidden rounded-full p-[1px]">
    <span
      class="absolute inset-[-1000%] animate-[spin_2s_linear_infinite] bg-[conic-gradient(from_90deg_at_50%_50%,#51E4B8_0%,#21554E_50%,#51E4B8_100%)]"
    ></span>
    <div class={`inline-flex items-center justify-center w-full px-3 py-1 text-sm rounded-full cursor-pointer backdrop-blur-3xl whitespace-nowrap gap-1 ${colorClasses}`}>
      {IconComponent && <span class="w-4 h-4"><IconComponent /></span>}
      {text}
    </div>
  </span>
</div>
